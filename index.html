<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>اختبار الأسئلة الشامل - مع تصحيح وألوان ومؤقت</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 700px;
    margin: 30px auto;
    padding: 20px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
  }
  h1 {
    text-align: center;
    margin-bottom: 30px;
    font-weight: 700;
    letter-spacing: 1px;
  }
  #quiz-container {
    background: rgba(255, 255, 255, 0.1);
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  }
  #question-number {
    font-size: 22px;
    margin-bottom: 10px;
    font-weight: 600;
  }
  #question-text {
    font-size: 24px;
    margin-bottom: 25px;
  }
  .options button {
    display: block;
    width: 100%;
    background-color: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 8px;
    padding: 14px 20px;
    margin-bottom: 12px;
    font-size: 18px;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-align: right;
  }
  .options button:hover:not(.disabled) {
    background-color: rgba(255, 255, 255, 0.35);
  }
  .options button.selected {
    font-weight: 700;
  }
  .options button.correct {
    background-color: #4CAF50 !important; /* أخضر */
    color: #000 !important;
    font-weight: 700;
    cursor: default;
  }
  .options button.wrong {
    background-color: #f44336 !important; /* أحمر */
    color: #000 !important;
    font-weight: 700;
    cursor: default;
  }
  .options button.disabled {
    cursor: default;
  }
  #timer {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    text-align: center;
    letter-spacing: 2px;
  }
  #result {
    text-align: center;
    font-size: 22px;
    margin-top: 30px;
    font-weight: 600;
  }
  #restart-btn {
    width: 100%;
    padding: 15px;
    font-size: 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    margin-top: 25px;
    font-weight: 700;
    background-color: #00c853;
    color: #fff;
    display: none;
    transition: background-color 0.3s ease;
  }
  #restart-btn:hover {
    background-color: #009624;
  }
  @media (max-width: 480px) {
    body {
      padding: 10px;
      max-width: 100%;
    }
    #question-text {
      font-size: 20px;
    }
    .options button {
      font-size: 16px;
      padding: 12px 15px;
    }
    #restart-btn {
      font-size: 18px;
      padding: 12px;
    }
  }
</style>
</head>
<body>

<h1>اختبار الأسئلة الشامل</h1>

<div id="quiz-container">
  <div id="question-number"></div>
  <div id="timer"></div>
  <div id="question-text"></div>
  <div class="options" id="options"></div>
  <button id="restart-btn">أعد الاختبار</button>
  <div id="result"></div>
</div>

<script>
  const questions = [
    {question:"ما هي أكبر قارة في العالم من حيث السكان؟",options:["أفريقيا", "آسيا", "أوروبا", "أمريكا الشمالية"],answer:1},
    {question:"ما هو الكوكب الذي يعرف بالكوكب الأزرق؟",options:["الأرض", "نبتون", "زحل", "أورانوس"],answer:0},
    {question:"ما هو العضو المسؤول عن تحريك الجسم؟",options:["القلب", "العظام", "العضلات", "الدماغ"],answer:2},
    {question:"ما هو اسم العضو الذي يفرز الأنسولين في جسم الإنسان؟",options:["الكبد", "البنكرياس", "الكلى", "القلب"],answer:1},
    {question:"ما هو الحيوان الذي يُعرف بسرعته الفائقة في الطيران؟",options:["الصقر", "النسر", "الطائر الطنان", "البومة"],answer:0},
    {question:"ما هي عاصمة أستراليا؟",options:["سيدني", "ملبورن", "كانبيرا", "بريسبان"],answer:2},
    {question:"ما هو اسم المادة التي تعطي النبات لونه الأخضر؟",options:["الكلوروفيل", "الكربوهيدرات", "البروتين", "الأكسجين"],answer:0},
    {question:"ما هي الوحدة الأساسية لقياس الكهرباء؟",options:["الأمبير", "الفولت", "الواط", "الأوم"],answer:0},
    {question:"ما هو اسم العالم الذي وضع نظرية النسبية؟",options:["نيوتن", "أينشتاين", "غاليليو", "تسلا"],answer:1},
    {question:"ما هو اسم الكوكب الذي له حلقات بارزة؟",options:["زحل", "نبتون", "أورانوس", "المشتري"],answer:0},
    {question:"ما هو اسم أكبر قارة من حيث المساحة؟",options:["أفريقيا", "آسيا", "أوروبا", "أمريكا الشمالية"],answer:1},
    {question:"ما هو اسم الحيوان الذي يعيش في الماء ويملك أربع أرجل؟",options:["السلحفاة", "الدولفين", "الحوت", "الأخطبوط"],answer:0},
    {question:"ما هو اسم أول فيلم حصل على جائزة الأوسكار لأفضل فيلم؟",options:["ذهب مع الريح", "كازابلانكا", "تايتانيك", "الغابة"],answer:0},
    {question:"من هو العالم الذي اكتشف البنسلين؟",options:["ألكسندر فليمنج", "لويس باستور", "ماري كوري", "جيمس واتسون"],answer:0},
    {question:"ما هو اسم النهر الذي يعد الأطول في العالم؟",options:["الأمازون", "النيل", "اليانغتسي", "المسيسيبي"],answer:1},
    {question:"ما هو اسم العلم الذي يدرس الحيوانات؟",options:["علم النبات", "علم الحيوان", "علم الفلك", "علم الكيمياء"],answer:1},
    {question:"ما هي أكبر دولة في أفريقيا؟",options:["مصر", "جنوب أفريقيا", "الجزائر", "نيجيريا"],answer:2},
    {question:"ما هو اسم العضو الذي يستخدم للتنفس؟",options:["القلب", "الرئة", "الكبد", "الكلى"],answer:1},
    {question:"ما هو اسم العملة الرسمية في بريطانيا؟",options:["اليورو", "الدولار", "الجنيه الإسترليني", "الين"],answer:2},
    {question:"ما هو اسم الغاز الذي نستخدمه للتنفس؟",options:["الأكسجين", "النيتروجين", "ثاني أكسيد الكربون", "الهيليوم"],answer:0},
    {question:"ما هو اسم أكبر محيط في العالم؟",options:["المحيط الأطلسي", "المحيط الهادئ", "المحيط الهندي", "المحيط المتجمد"],answer:1},
    {question:"ما هو اسم أكبر جبل في العالم؟",options:["إيفرست", "كليمنجارو", "مونت بلانك", "آكونكاجوا"],answer:0},
    {question:"ما هي عاصمة مصر؟",options:["الإسكندرية", "القاهرة", "الأقصر", "أسوان"],answer:1},
  ];

  let currentIndex = 0;
  let score = 0;
  let timer;
  const timerDuration = 10; // 10 ثواني لكل سؤال
  let timeLeft = timerDuration;

  const questionNumberElem = document.getElementById("question-number");
  const questionTextElem = document.getElementById("question-text");
  const optionsElem = document.getElementById("options");
  const timerElem = document.getElementById("timer");
  const resultElem = document.getElementById("result");
  const restartBtn = document.getElementById("restart-btn");

  function startTimer() {
    timeLeft = timerDuration;
    timerElem.textContent = `الوقت المتبقي: ${timeLeft} ثواني`;
    timer = setInterval(() => {
      timeLeft--;
      timerElem.textContent = `الوقت المتبقي: ${timeLeft} ثواني`;
      if (timeLeft <= 0) {
        clearInterval(timer);
        disableOptions();
        showCorrectAnswer();
        setTimeout(nextQuestion, 2000);
      }
    }, 1000);
  }

  function loadQuestion() {
    clearInterval(timer);
    resultElem.textContent = "";
    questionNumberElem.textContent = `السؤال ${currentIndex + 1} من ${questions.length}`;
    questionTextElem.textContent = questions[currentIndex].question;
    optionsElem.innerHTML = "";
    timeLeft = timerDuration;

    questions[currentIndex].options.forEach((option, idx) => {
      const btn = document.createElement("button");
      btn.textContent = option;
      btn.addEventListener("click", () => {
        clearInterval(timer);
        handleAnswer(idx, btn);
      });
      optionsElem.appendChild(btn);
    });
    startTimer();
  }

  function handleAnswer(selectedIdx, btn) {
    disableOptions();
    const correctIdx = questions[currentIndex].answer;
    if (selectedIdx === correctIdx) {
      score++;
      btn.classList.add("correct");
    } else {
      btn.classList.add("wrong");
      // نبرز الإجابة الصحيحة
      optionsElem.children[correctIdx].classList.add("correct");
    }
    setTimeout(nextQuestion, 2000);
  }

  function disableOptions() {
    Array.from(optionsElem.children).forEach(btn => {
      btn.disabled = true;
      btn.classList.add("disabled");
    });
  }

  function showCorrectAnswer() {
    const correctIdx = questions[currentIndex].answer;
    optionsElem.children[correctIdx].classList.add("correct");
  }

  function nextQuestion() {
    currentIndex++;
    if (currentIndex >= questions.length) {
      showResult();
    } else {
      loadQuestion();
    }
  }

  function showResult() {
    clearInterval(timer);
    questionNumberElem.style.display = "none";
    questionTextElem.style.display = "none";
    optionsElem.style.display = "none";
    timerElem.style.display = "none";

    resultElem.innerHTML = `
      <h2>انتهى الاختبار!</h2>
      <p>لقد أجبت بشكل صحيح على <strong>${score}</strong> من أصل <strong>${questions.length}</strong> سؤال.</p>
      <p>النسبة: <strong>${((score / questions.length) * 100).toFixed(2)}%</strong></p>
    `;
    restartBtn.style.display = "block";
  }

  restartBtn.addEventListener("click", () => {
    currentIndex = 0;
    score = 0;
    questionNumberElem.style.display = "block";
    questionTextElem.style.display = "block";
    optionsElem.style.display = "block";
    timerElem.style.display = "block";
    resultElem.textContent = "";
    restartBtn.style.display = "none";
    loadQuestion();
  });

  loadQuestion();
</script>

</body>
</html>
