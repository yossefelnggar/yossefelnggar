<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ÙØ§Ø®Ø± - Ø¨Ù„Ø§ Ø£Ø®Ø·Ø§Ø¡</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@600;800&display=swap');
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(
          rgba(0, 0, 0, 0.85),
          rgba(0, 0, 0, 0.85)
        ),
        url('https://images.unsplash.com/photo-1526498460520-4c246339dccb?auto=format&fit=crop&w=1470&q=80')
          no-repeat center center fixed;
      background-size: cover;
      color: #f2f2f2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      user-select: none;
    }
    h1 {
      font-size: 3rem;
      margin: 30px 0 10px;
      background: linear-gradient(45deg, #00ffff, #ff00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: pulse 3s infinite;
      text-align: center;
    }
    .score-box {
      margin-bottom: 10px;
      font-size: 1.3rem;
      color: #00ffc3;
      font-weight: 700;
      text-align: center;
    }
    .timer {
      font-size: 1.1rem;
      color: #ffcc00;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 600;
    }
    .question-box {
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid #444;
      border-radius: 30px;
      padding: 40px;
      width: 95%;
      max-width: 800px;
      box-shadow: 0 0 60px rgba(0, 255, 255, 0.15);
      animation: fadeIn 0.8s ease-in-out;
      transition: all 0.4s ease;
      user-select: none;
    }
    .question {
      font-size: 1.9rem;
      margin-bottom: 30px;
      text-align: center;
      color: #00e0ff;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .answers button {
      display: block;
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      background: linear-gradient(135deg, #111, #222);
      color: white;
      font-size: 1.2rem;
      font-weight: 700;
      border: 2px solid #00ffc3;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      user-select: none;
    }
    .answers button:hover {
      background: #00ffc3;
      color: #000;
    }
    .answers button.correct {
      background-color: #00cc66 !important;
      border-color: #00cc66;
      color: #fff;
      cursor: default;
    }
    .answers button.wrong {
      background-color: #cc0033 !important;
      border-color: #cc0033;
      color: #fff;
      cursor: default;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes pulse {
      0%,
      100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.05);
        opacity: 0.9;
      }
    }
  </style>
</head>
<body>
  <h1>ğŸ§  ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø®Ø§Ø±Ù‚</h1>
  <div class="score-box" id="scoreBox">Ù†Ù‚Ø§Ø·Ùƒ: 0</div>
  <div class="timer" id="timer">Ø§Ù„ÙˆÙ‚Øª: 15 Ø«Ø§Ù†ÙŠØ©</div>
  <div class="question-box" role="main" aria-live="polite" aria-atomic="true">
    <div class="question" id="question">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...</div>
    <div class="answers" id="answers" role="list"></div>
  </div>

  <script>
    (() => {
      const questionTime = 15; // seconds per question
      let score = 0;
      let timeLeft = questionTime;
      let timerInterval;
      let usedQuestions = new Set();

      // Ø£Ø³Ø¦Ù„Ø© Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙ†Ù…Ø·ÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©
      const questionGenerators = [
        // Ø±ÙŠØ§Ø¶ÙŠØ§Øª - Ø¬Ù…Ø¹ Ø£Ø¹Ø¯Ø§Ø¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
        () => {
          const x = Math.floor(Math.random() * 30);
          const y = Math.floor(Math.random() * 30);
          const answer = x + y;
          const options = shuffle([
            answer,
            answer + Math.floor(Math.random() * 5) + 1,
            answer - (Math.floor(Math.random() * 5) + 1),
            answer + Math.floor(Math.random() * 10) + 6,
          ]);
          return {
            q: `Ù…Ø§ Ù†Ø§ØªØ¬ ${x} + ${y}ØŸ`,
            a: answer,
            options,
          };
        },

        // Ø³Ø¤Ø§Ù„ Ø¬ØºØ±Ø§ÙÙŠ
        () => {
          return {
            q: 'Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ØŸ',
            a: 'ÙƒØ§Ù†Ø¨ÙŠØ±Ø§',
            options: shuffle(['Ø³ÙŠØ¯Ù†ÙŠ', 'Ù…Ù„Ø¨ÙˆØ±Ù†', 'ÙƒØ§Ù†Ø¨ÙŠØ±Ø§', 'Ø¨ÙŠØ±Ø«']),
          };
        },

        // Ø³Ø¤Ø§Ù„ Ø«Ù‚Ø§ÙÙŠ
        () => {
          return {
            q: 'Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù Ø±ÙˆØ§ÙŠØ© "Ù…Ø¦Ø© Ø¹Ø§Ù… Ù…Ù† Ø§Ù„Ø¹Ø²Ù„Ø©"ØŸ',
            a: 'ØºØ§Ø¨Ø±ÙŠÙŠÙ„ ØºØ§Ø±Ø³ÙŠØ§ Ù…Ø§Ø±ÙƒÙŠØ²',
            options: shuffle([
              'ØºØ§Ø¨Ø±ÙŠÙŠÙ„ ØºØ§Ø±Ø³ÙŠØ§ Ù…Ø§Ø±ÙƒÙŠØ²',
              'Ù†Ø¬ÙŠØ¨ Ù…Ø­ÙÙˆØ¸',
              'ØªÙˆÙ„Ø³ØªÙˆÙŠ',
              'Ø¥Ø±Ù†Ø³Øª Ù‡Ù…Ù†ØºÙˆØ§ÙŠ',
            ]),
          };
        },

        // Ø³Ø¤Ø§Ù„ Ù…Ù†Ø·Ù‚ Ø¨Ø³ÙŠØ·
        () => {
          return {
            q: 'Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ÙƒÙ„ Ø§Ù„Ù‚Ø·Ø· ØªØ­Ø¨ Ø§Ù„Ø³Ù…ÙƒØŒ ÙˆÙ„ÙˆÙ„Ùˆ Ù‚Ø·Ø©ØŒ ÙÙ‡Ù„ Ù„ÙˆÙ„Ùˆ ØªØ­Ø¨ Ø§Ù„Ø³Ù…ÙƒØŸ',
            a: 'Ù†Ø¹Ù…',
            options: shuffle(['Ù†Ø¹Ù…', 'Ù„Ø§', 'Ø±Ø¨Ù…Ø§', 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ']),
          };
        },

        // Ø³Ø¤Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
        () => {
          return {
            q: 'Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„Ø£Ø±Ø¶ØŸ',
            a: 'Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦',
            options: shuffle([
              'Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ',
              'Ø§Ù„Ù‡Ù†Ø¯ÙŠ',
              'Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦',
              'Ø§Ù„Ù…ØªØ¬Ù…Ø¯',
            ]),
          };
        },

        // Ø³Ø¤Ø§Ù„ Ø±ÙŠØ§Ø¶ÙŠØ§Øª - Ø¶Ø±Ø¨ Ø£Ø¹Ø¯Ø§Ø¯
        () => {
          const a = Math.floor(Math.random() * 12) + 1;
          const b = Math.floor(Math.random() * 12) + 1;
          const ans = a * b;
          const opts = shuffle([
            ans,
            ans + Math.floor(Math.random() * 10) + 1,
            ans - (Math.floor(Math.random() * 10) + 1),
            ans + Math.floor(Math.random() * 15) + 11,
          ]);
          return {
            q: `Ù…Ø§ Ù†Ø§ØªØ¬ ${a} Ã— ${b}ØŸ`,
            a: ans,
            options: opts,
          };
        },

        // Ø³Ø¤Ø§Ù„ Ø«Ù‚Ø§ÙÙŠ
        () => {
          return {
            q: 'Ù…Ø§ Ù‡ÙŠ Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨ØŸ',
            a: 'Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª',
            options: shuffle([
              'Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª',
              'Ø¨Ø§ÙŠØ«ÙˆÙ†',
              'Ø¬Ø§ÙØ§',
              'Ø±ÙˆØ¨ÙŠ',
            ]),
          };
        },

        // Ø³Ø¤Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
        () => {
          return {
            q: 'Ø£ÙŠ Ø¯ÙˆÙ„Ø© ÙŠÙØ·Ù„Ù‚ Ø¹Ù„ÙŠÙ‡Ø§ "Ø¨Ù„Ø¯ Ø§Ù„Ø´Ù…Ø³ Ø§Ù„Ù…Ø´Ø±Ù‚Ø©"ØŸ',
            a: 'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†',
            options: shuffle([
              'Ø§Ù„ØµÙŠÙ†',
              'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†',
              'ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©',
              'ØªØ§ÙŠÙˆØ§Ù†',
            ]),
          };
        },
      ];

      // Ø®Ù„Ø· Ø¹Ù†Ø§ØµØ± Ù…ØµÙÙˆÙØ©
      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // ØªØ­Ù…ÙŠÙ„ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±
      function loadQuestion() {
        clearInterval(timerInterval);
        timeLeft = questionTime;
        document.getElementById('timer').innerText = `Ø§Ù„ÙˆÙ‚Øª: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;

        let qObj, qIndex;
        do {
          qIndex = Math.floor(Math.random() * questionGenerators.length);
          qObj = questionGenerators[qIndex]();
        } while (usedQuestions.has(qObj.q) && usedQuestions.size < 1000); // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø± Ù„Ø­Ø¯ 1000 Ø³Ø¤Ø§Ù„

        usedQuestions.add(qObj.q);

        const questionEl = document.getElementById('question');
        questionEl.innerText = qObj.q;

        const answersDiv = document.getElementById('answers');
        answersDiv.innerHTML = '';

        qObj.options.forEach((option) => {
          const btn = document.createElement('button');
          btn.innerText = option;
          btn.setAttribute('role', 'listitem');
          btn.onclick = () => handleAnswer(btn, option === qObj.a);
          answersDiv.appendChild(btn);
        });

        timerInterval = setInterval(() => {
          timeLeft--;
          document.getElementById('timer').innerText = `Ø§Ù„ÙˆÙ‚Øª: ${timeLeft} Ø«Ø§Ù†ÙŠØ©`;
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            markCorrectAnswer(qObj.a);
            setTimeout(() => loadQuestion(), 1200);
          }
        }, 1000);
      }

      // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
      function handleAnswer(button, isCorrect) {
        clearInterval(timerInterval);
        disableButtons(true);
        if (isCorrect) {
          score++;
          document.getElementById('scoreBox').innerText = `Ù†Ù‚Ø§Ø·Ùƒ: ${score}`;
          button.classList.add('correct');
          setTimeout(() => loadQuestion(), 700);
        } else {
          button.classList.add('wrong');
          markCorrectAnswer();
          setTimeout(() => loadQuestion(), 1200);
        }
      }

      // ØªØ¹Ø·ÙŠÙ„ Ø£Ùˆ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      function disableButtons(disable) {
        const buttons = document.querySelectorAll('.answers button');
        buttons.forEach((btn) => {
          btn.disabled = disable;
          if (!disable) {
            btn.classList.remove('correct', 'wrong');
          }
        });
      }

      // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¨Ø¹Ø¯ Ø®Ø·Ø£ Ø£Ùˆ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
      function markCorrectAnswer(correctAnswer) {
        const buttons = document.querySelectorAll('.answers button');
        buttons.forEach((btn) => {
          if (btn.innerText === correctAnswer) {
            btn.classList.add('correct');
          }
        });
      }

      // Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
      loadQuestion();
    })();
  </script>
</body>
</html>
