<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>تحدي الأسئلة الذكي - تجربة لا مثيل لها</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo&display=swap');
  /* Reset */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #0f172a, #3b82f6);
    color: #f9fafb;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    margin: 30px 0 15px 0;
    font-size: 3rem;
    font-weight: 900;
    letter-spacing: 0.2em;
    color: #e0e7ff;
    text-shadow: 0 0 12px #2563ebaa;
    user-select: none;
  }
  main {
    background: rgba(255 255 255 / 0.05);
    padding: 30px 40px;
    border-radius: 24px;
    width: 100%;
    max-width: 650px;
    box-shadow: 0 8px 30px #2563ebbb;
    user-select: none;
  }
  .question {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 25px;
    min-height: 100px;
    line-height: 1.3;
    text-align: center;
    text-shadow: 0 0 10px #93c5fdaa;
  }
  .answers {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px 25px;
  }
  button.answer-btn {
    background: linear-gradient(145deg, #2563eb, #1e40af);
    border: none;
    padding: 18px 22px;
    font-size: 1.25rem;
    font-weight: 600;
    color: #e0e7ff;
    border-radius: 16px;
    cursor: pointer;
    box-shadow: 0 5px 15px #1e40afaa;
    transition:
      background 0.4s ease,
      transform 0.25s ease,
      box-shadow 0.4s ease;
    user-select: none;
  }
  button.answer-btn:hover:not(:disabled) {
    background: linear-gradient(145deg, #3b82f6, #2563eb);
    transform: translateY(-3px);
    box-shadow: 0 8px 20px #3b82f6cc;
  }
  button.answer-btn:disabled {
    cursor: default;
    opacity: 0.85;
  }
  button.correct {
    background: #22c55e !important;
    box-shadow: 0 0 15px #22c55ecc !important;
    color: #f0fdf4 !important;
  }
  button.wrong {
    background: #ef4444 !important;
    box-shadow: 0 0 15px #ef4444cc !important;
    color: #fef2f2 !important;
  }
  .scoreboard {
    margin-top: 30px;
    font-size: 1.3rem;
    background: rgba(229 231 235 / 0.12);
    color: #e0e7ff;
    padding: 14px 30px;
    border-radius: 20px;
    text-align: center;
    font-weight: 700;
    letter-spacing: 0.04em;
    user-select: none;
    box-shadow: inset 0 0 8px #2563ebaa;
  }
  footer {
    margin-top: auto;
    padding: 18px 12px;
    font-size: 0.9rem;
    color: #93c5fdcc;
    user-select: none;
  }
  @media (max-width: 480px) {
    main {
      padding: 25px 20px;
    }
    .answers {
      grid-template-columns: 1fr;
      gap: 15px;
    }
    .question {
      font-size: 1.6rem;
      min-height: 80px;
    }
    button.answer-btn {
      font-size: 1.1rem;
      padding: 14px 18px;
    }
  }
</style>
</head>
<body>
<header>تحدي الأسئلة الذكي</header>
<main>
  <div class="question" id="question">جارٍ تحميل السؤال...</div>
  <div class="answers" id="answers"></div>
  <div class="scoreboard" id="scoreboard">الدرجة: 0 | مستوى الصعوبة: 1</div>
</main>
<footer>تطوير عبقري بواسطة يوسف</footer>

<script>
(() => {
  let score = 0;
  let difficulty = 1;
  let askedQuestions = new Set();

  // بنك أسئلة متعدد مع 4 خيارات لكل سؤال
  const questionsBank = {
    1: [
      {q: "ما هي عاصمة مصر؟", a: "القاهرة", options: ["القاهرة", "الإسكندرية", "الرياض", "دمشق"]},
      {q: "ما هو لون السماء؟", a: "أزرق", options: ["أحمر", "أزرق", "أصفر", "أخضر"]},
      {q: "ما أكبر كوكب في المجموعة الشمسية؟", a: "المشتري", options: ["المريخ", "الأرض", "المشتري", "الزهرة"]},
      {q: "كم عدد أيام الأسبوع؟", a: "7", options: ["5", "6", "7", "8"]},
    ],
    2: [
      {q: "من هو مؤسس شركة مايكروسوفت؟", a: "بيل جيتس", options: ["بيل جيتس", "ستيف جوبز", "مارك زوكربيرغ", "إيلون ماسك"]},
      {q: "أي من هذه الحيوانات يعيش في الماء فقط؟", a: "الدلفين", options: ["التمساح", "الدلفين", "الضبع", "النسور"]},
      {q: "ما هو الغاز الذي نتنفسه؟", a: "الأكسجين", options: ["النيتروجين", "الهيدروجين", "الأكسجين", "الكربون"]},
      {q: "ما أكبر محيط في العالم؟", a: "المحيط الهادئ", options: ["المحيط الأطلسي", "المحيط الهادئ", "المحيط الهندي", "المحيط المتجمد"]},
    ],
    3: [
      {q: "ما هو العنصر الكيميائي الذي رمزه Fe؟", a: "الحديد", options: ["الذهب", "الحديد", "الفوسفور", "الزنك"]},
      {q: "في أي سنة وقعت الثورة الفرنسية؟", a: "1789", options: ["1776", "1789", "1812", "1804"]},
      {q: "من هو الفيلسوف الذي قال: 'أنا أفكر إذن أنا موجود'؟", a: "ديكارت", options: ["أفلاطون", "أرسطو", "ديكارت", "هيجل"]},
      {q: "ما هو أسرع حيوان بري؟", a: "الفهد", options: ["الأسد", "الفهد", "الكنغر", "الغزال"]},
    ],
    4: [
      {q: "ما هو قانون نيوتن الثالث؟", a: "لكل فعل رد فعل مساوي له في المقدار ومضاد له في الاتجاه", options: [
        "لكل فعل رد فعل مساوي له في المقدار ومضاد له في الاتجاه",
        "الطاقة لا تفنى ولا تستحدث من عدم",
        "القوة تساوي الكتلة في التسارع",
        "الجسم الساكن يبقى ساكنًا"
      ]},
      {q: "ما هو العدد الذري للهيليوم؟", a: "2", options: ["1", "2", "3", "4"]},
      {q: "ما هو تعريف الذكاء الاصطناعي؟", a: "تمكين الآلات من محاكاة السلوك البشري", options: [
        "تمكين الآلات من محاكاة السلوك البشري",
        "شبكة الإنترنت العالمية",
        "تطوير البرمجيات فقط",
        "تحليل البيانات فقط"
      ]},
      {q: "من هو مؤلف رواية 'مئة عام من العزلة'؟", a: "غابرييل غارسيا ماركيز", options: [
        "إرنست همنغواي", "غابرييل غارسيا ماركيز", "فيكتور هوغو", "تولستوي"
      ]},
    ],
  };

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function getRandomQuestion(level) {
    const levelQuestions = questionsBank[level];
    if (!levelQuestions) return null;

    let question;
    let tries = 0;
    do {
      question = levelQuestions[Math.floor(Math.random() * levelQuestions.length)];
      tries++;
    } while (askedQuestions.has(question.q) && tries < 20);

    if (tries >= 20) {
      askedQuestions.clear();
    }
    askedQuestions.add(question.q);
    return question;
  }

  const questionEl = document.getElementById("question");
  const answersEl = document.getElementById("answers");
  const scoreboardEl = document.getElementById("scoreboard");

  function loadQuestion() {
    const question = getRandomQuestion(difficulty);
    if (!question) {
      questionEl.textContent = "تم الانتهاء من جميع الأسئلة!";
      answersEl.innerHTML = "";
      return;
    }
    questionEl.textContent = question.q;

    // امزج الخيارات
    const options = [...question.options];
    shuffle(options);

    answersEl.innerHTML = "";
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.classList.add("answer-btn");
      btn.textContent = opt;
      btn.onclick = () => handleAnswer(btn, question.a);
      answersEl.appendChild(btn);
    });
  }

  function handleAnswer(button, correctAnswer) {
    const buttons = answersEl.querySelectorAll("button");
    buttons.forEach(btn => btn.disabled = true);

    if (button.textContent === correctAnswer) {
      button.classList.add("correct");
      score += 10 * difficulty;
      difficulty = Math.min(difficulty + 1, 4); // زيادة الصعوبة حتى المستوى 4
    } else {
      button.classList.add("wrong");
      // إظهار الإجابة الصحيحة
      buttons.forEach(btn => {
        if (btn.textContent === correctAnswer) {
          btn.classList.add("correct");
        }
      });
      difficulty = Math.max(difficulty - 1, 1); // خفض الصعوبة إلى 1 على الأقل
    }

    scoreboardEl.textContent = `الدرجة: ${score} | مستوى الصعوبة: ${difficulty}`;

    // انتقل للسؤال التالي بعد 1.8 ثانية بصمت
    setTimeout(() => {
      loadQuestion();
    }, 1800);
  }

  loadQuestion();

})();
</script>
</body>
</html>
